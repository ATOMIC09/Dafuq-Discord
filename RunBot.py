import discord
from discord.ext import commands
import datetime
import urllib.parse, urllib.request, re
import requests
from time import sleep
import math
import os
import asyncio
from discord import FFmpegPCMAudio
from discord import TextChannel
from youtube_dl import YoutubeDL
from dotenv import load_dotenv
from discord.utils import get


intents = discord.Intents.default()
intents.members = True

bot = commands.Bot(command_prefix='&', description="‡∏û‡∏π‡∏î‡∏°‡∏≤‡∏Å‡∏ß‡πà‡∏∞", intents=intents)
bot.remove_command('help')


# Math
@bot.command()
async def sum(ctx, numOne: float, numTwo: float):
	sum = numOne + numTwo
	await ctx.send(f"{numOne} + {numTwo} = {sum}")

@bot.command()
async def dif(ctx, numOne: float, numTwo: float):
	dif = numOne - numTwo
	await ctx.send(f"{numOne} - {numTwo} = {dif}")

@bot.command()
async def mul(ctx, numOne: float, numTwo: float):
	try :
		mul = numOne * numTwo
	except OverflowError :
		await ctx.send("**Error ‚ö†Ô∏è**")
		return
	await ctx.send(f"{numOne} √ó {numTwo} = {mul}")

@bot.command()
async def div(ctx, numOne: float, numTwo: float):
	try :
		div = numOne / numTwo
	except ZeroDivisionError :
		await ctx.send("**Error ‚ö†Ô∏è**")
		return
	await ctx.send(f"{numOne} √∑ {numTwo} = {div}")	

@bot.command()
async def pow(ctx, numOne: float, numTwo: float):
	try :
		pow = numOne ** numTwo
	except OverflowError :
		await ctx.send("**Error ‚ö†Ô∏è**")
		return
	await ctx.send(f"{numOne} ^ {numTwo} = {pow}")

@bot.command()
async def sqrt(ctx, sqrtnum: float, number: int):
	sqrt = number**(1/sqrtnum)
	await ctx.send(f"‡∏£‡∏≤‡∏Å‡∏ó‡∏µ‡πà {sqrtnum} ‡∏Ç‡∏≠‡∏á {number} = {sqrt}")

@bot.command()
async def fac(ctx, number: int):
	try :
		fac = math.factorial(number)
	except OverflowError :
		await ctx.send("**Error ‚ö†Ô∏è**")
		return
	await ctx.send(f"{number}! = {fac}")


# Dev Mode
bot.devmode = 0

@bot.command()
async def devmode_on(ctx):
	if bot.devmode == 0 and 269000561255383040 == ctx.message.author.id:
		bot.devmode += 1
		await ctx.send("**DevMode: ON ‚úÖ**")
		await bot.change_presence(activity=discord.Game(name="Version: Dev 1.4.2"))
		
	elif 269000561255383040 != ctx.message.author.id:
		await ctx.send("**You are not a developer**")

	elif bot.devmode == 1:
		await ctx.send("**Developer Mode is already ON**")

@bot.command()
async def devmode_off(ctx):
	if bot.devmode == 1 and 269000561255383040 == ctx.message.author.id:
		bot.devmode -= 1
		await ctx.send("**DevMode: OFF ‚ùé**")
		await bot.change_presence(activity=discord.Game(name="Version: 1.4.2"))

	elif 269000561255383040 != ctx.message.author.id:
		await ctx.send("**You are not a developer**")

	elif bot.devmode == 0:
		await ctx.send("**Developer Mode is already OFF**")


@bot.command()
async def welcome(ctx):
	welcome = discord.Embed(title = "**‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà GGWP'Games Room !**", description = "‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ üòÄ", color = 0x00FF00)
	welcome.set_thumbnail(url="https://cdn.discordapp.com/attachments/778868879567880192/779671284786528276/Stonk.gif")
	await ctx.send(embed = welcome)

@bot.command()
async def congrat(ctx):
	congrat = discord.Embed(title = "**CONGRATULATION!!**", description = "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!! üéâüéâ", color = 0x00FF00)
	congrat.set_thumbnail(url="https://cdn.discordapp.com/attachments/778868879567880192/780126909421846548/Congrat.gif")
	await ctx.send(embed = congrat)

@bot.command()
async def update(ctx):
	u = discord.Embed(title = "üìå **Update**", color = 0x00FF00)
	u.add_field(name="1Ô∏è‚É£ V.1.0.0 | 16/12/2020", value="`‚Ä¢ Status: Online 24/7\n‚Ä¢ Delete: &shutdown\n‚Ä¢ Delete: &restart\n‚Ä¢ Delete: &pyramid\n‚Ä¢ Delete: &yt\n‚Ä¢ Delete: &ddos\n‚Ä¢ Delete: &square\n‚Ä¢ Delete: &dht11`")
	u.add_field(name="2Ô∏è‚É£ V.1.1.0 | 22/12/2020", value="`‚Ä¢ Add: &update\n‚Ä¢ Add: Embed for &covid\n‚Ä¢ Add: Limit of &fac\n‚Ä¢ Fix: &sqrt\n‚Ä¢ Fix: Loop ‡∏´‡∏ß‡∏±‡∏î‡∏î‡∏µ,‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ\n‚Ä¢ Delete: &dht11 in &help\n‚Ä¢ Delete: on_member_join`")
	u.add_field(name="3Ô∏è‚É£ V.1.1.1 | 25/12/2020", value="`‚Ä¢ Fix: Decimal number limit\n‚Ä¢ Delete: Some auto detection word`")
	u.add_field(name="4Ô∏è‚É£ V.1.2.0 | 01/02/2021", value="`‚Ä¢ Add: Reaction Role Assignment`")
	u.add_field(name="5Ô∏è‚É£ V.1.3.0 | 23/04/2021", value="`‚Ä¢ Add: &event\n‚Ä¢ Fix: &countdown`")
	u.add_field(name="6Ô∏è‚É£ V.1.3.1 | 29/04/2021", value="`‚Ä¢ Add: &devmode\n‚Ä¢ Add: &status\n‚Ä¢ Fix: Activity Name\n‚Ä¢ Fix: &countdown`")
	u.add_field(name="7Ô∏è‚É£ V.1.4.0 | 06/06/2021", value="`‚Ä¢ Add: PrivateKey Role assignment\n‚Ä¢ Add: Moderator Role assignment\n‚Ä¢ Add: Whitelist\n‚Ä¢ Fix: Role Name`")
	u.add_field(name="8Ô∏è‚É£ V.1.4.1 | 22/08/2021", value="`‚Ä¢ Delete: Some auto detection word`")
	u.add_field(name="9Ô∏è‚É£ V.1.4.2 | 06/09/2021", value="`‚Ä¢ Add: Mute Command\n‚Ä¢ Delete: All Whilelist Commands\n‚Ä¢ Delete: All Covid Commands`")
	await ctx.send(embed = u)

@bot.command()
async def help(ctx):
	h = discord.Embed(title = "‚ùî **Help**", color = 0x00FF00)
	h.add_field(name="‚ÑπÔ∏è ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏•‡∏∏‡πà‡∏°", value="`&guild`")
	h.add_field(name="üìå ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ó", value="`&update`")
	h.add_field(name="üôè ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö", value="`&welcome`")
	h.add_field(name="üéâ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏¥‡∏ô‡∏î‡∏µ", value="`&congrat`")
	h.add_field(name="üì© ‡πÄ‡∏ä‡∏¥‡∏ç‡∏ö‡∏≠‡∏ó", value="`&invite`")
	h.add_field(name="‚öôÔ∏è ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏•‡∏Ç", value="`&help_math`")
	h.add_field(name="‚è≤Ô∏è ‡πÄ‡∏Ñ‡∏≤‡∏ô‡∏ï‡πå‡∏î‡∏≤‡∏ß‡∏ô‡πå", value="`&countdown [‡πÄ‡∏ß‡∏•‡∏≤]`")
	h.add_field(name="‚èπ ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö‡πÄ‡∏Ñ‡∏≤‡∏ô‡∏ï‡πå‡∏î‡∏≤‡∏ß‡∏ô‡πå", value="`&cancel_countdown`")
	h.add_field(name="üîë ‡πÉ‡∏´‡πâ PrivateKey", value="`&privatekey [@USER]`")
	h.add_field(name="üîí ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å PrivateKey", value="`&cancel_privatekey`")
	h.add_field(name="üéü ‡πÄ‡∏õ‡πá‡∏ô Moderator", value="`&moderator`")
	h.add_field(name="üß∫ ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥ Moderator", value="`&cancel_mod`")
	h.add_field(name="üìÉ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ Whitelist", value="`&whitelist_check`")
	h.add_field(name="üìù ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ Whitelist", value="`&whitelist_add [@USER]`")
	h.add_field(name="‚úÇ ‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ Whitelist", value="`&whitelist_del [@USER]`")
	h.add_field(name="üìê ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≤‡∏°‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏∏‡∏°‡∏â‡∏≤‡∏Å", value="`&right_triangle [‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏±‡πâ‡∏ô]`")
	h.add_field(name="üîÑ ‡πÅ‡∏õ‡∏•‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥", value="`&help_temp`")
	h.add_field(name="üîÑ ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç", value="`&help_percent`")
	h.add_field(name="üöÄ ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏¢‡∏¥‡∏á‡πÑ‡∏≠‡∏û‡∏µ DDoS Tool", value="`&ddosins`")
	h.add_field(name="üéÜ ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏≠‡∏µ‡πÄ‡∏ß‡∏ô‡∏ï‡πå", value="`&event [ID]|[‡∏ä‡∏∑‡πà‡∏≠]|[‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢]|[LOGO URL]`")
	h.add_field(name="üîÑ ‡πÅ‡∏õ‡∏•‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥", value="`&help_temp`")
	h.add_field(name="üîá ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å", value="`&mute [@USER] [Time]`")
	h.add_field(name="üîä ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á", value="`&unmute [@USER]`")
	await ctx.send(embed = h)

@bot.command()
async def help_math(ctx):
	hm = discord.Embed(title = "‚öôÔ∏è **‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏•‡∏Ç**", color = 0x00FF00)
	hm.add_field(name="`‚ûï` ‡∏ö‡∏ß‡∏Å", value="`&sum [Num 1] [Num 2]`")
	hm.add_field(name="`‚ûñ` ‡∏•‡∏ö", value="`&dif [Num 1] [Num ]`")
	hm.add_field(name="`‚úñÔ∏è` ‡∏Ñ‡∏π‡∏ì", value="`&mul [Num 1] [Num 2]`")
	hm.add_field(name="`‚ûó` ‡∏´‡∏≤‡∏£", value="`&div [Num 1] [Num 2]`")
	hm.add_field(name="üí™ ‡∏¢‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á", value="`&pow [Num 1] [Num 2]`")
	hm.add_field(name="`‚àö` ‡∏ñ‡∏≠‡∏î‡∏£‡∏≤‡∏Å", value="`&sqrt [Sqrt Num] [Number]`")
	hm.add_field(name="`!` ‡πÅ‡∏ü‡∏Å‡∏ó‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏•", value="`&fac [Number]`")
	await ctx.send(embed = hm)

@bot.command()
async def help_temp(ctx):
	ht = discord.Embed(title = "üîÑ **‡πÅ‡∏õ‡∏•‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥**", color = 0x00FF00)
	ht.add_field(name="¬∞C ‡πÄ‡∏õ‡πá‡∏ô ¬∞F", value="`&ctf [Temp ¬∞C]`")
	ht.add_field(name="¬∞F ‡πÄ‡∏õ‡πá‡∏ô ¬∞C ", value="`&ftc [Temp ¬∞F]`")
	ht.add_field(name="¬∞C ‡πÄ‡∏õ‡πá‡∏ô K", value="`&ctk [Temp ¬∞C]`")
	ht.add_field(name="K ‡πÄ‡∏õ‡πá‡∏ô ¬∞C", value="`&ktc [Temp K]`")
	ht.add_field(name="¬∞F ‡πÄ‡∏õ‡πá‡∏ô K", value="`&ftk [Temp ¬∞F]`")
	ht.add_field(name="K ‡πÄ‡∏õ‡πá‡∏ô ¬∞F", value="`&ktf [Temp K]`")
	await ctx.send(embed = ht)

@bot.command()
async def help_percent(ctx):
	pn = discord.Embed(title = "üîÑ **‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç**", color = 0x00FF00)
	pn.add_field(name="‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç", value="`&ptn [%] [Total]`")
	pn.add_field(name="‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå", value="`&ntp [Number] [Total]`")
	await ctx.send(embed = pn)

@bot.command()
async def guild(ctx):
	print(ctx.guild.owner)
	print(ctx.guild.owner.mention)
	embed = discord.Embed(title=f"{ctx.guild.name}", timestamp=datetime.datetime.utcnow(), color=discord.Color.green())
	embed.add_field(name="‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠", value=f"`{ctx.guild.created_at}`")
	embed.add_field(name="‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á", value=f"{ctx.guild.owner.mention}")
	embed.add_field(name="‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ", value=f"`{ctx.guild.region}`")
	embed.add_field(name="‡πÑ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ã‡∏¥‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå", value=f"`{ctx.guild.id}`")
	embed.add_field(name="‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î", value=f"`‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥ : {ctx.guild.emoji_limit}\n‡∏ö‡∏¥‡∏ï‡πÄ‡∏£‡∏ó : {ctx.guild.bitrate_limit}\n‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå : {ctx.guild.filesize_limit}`")
	# embed.set_thumbnail(url=f"{ctx.guild.icon}")
	embed.set_thumbnail(url=f"{ctx.guild.icon_url}")

	await ctx.send(embed=embed)


@bot.command()
async def ctf(ctx, tempc: float):
	await ctx.send(str("{:.2f}".format(((9*tempc)/5)+32) + ' ¬∞F'))

@bot.command()
async def ftc(ctx, tempf: float):
	await ctx.send(str("{:.2f}".format((((tempf-32)/9)*5)) + ' ¬∞C'))

@bot.command()
async def ctk(ctx, tempc: float):
	await ctx.send(str("{:.2f}".format((tempc+273)) + ' K'))

@bot.command()
async def ktc(ctx, tempk: float):
	await ctx.send(str("{:.2f}".format((tempk-273)) + ' ¬∞C'))

@bot.command()
async def ftk(ctx, tempf: float):
	await ctx.send(str("{:.2f}".format((((5*(tempf-32))/9)+273)) + ' K'))

@bot.command()
async def ktf(ctx, tempk: float):
	await ctx.send(str("{:.2f}".format((((tempk-273)*9)/5)+32) + ' ¬∞F'))


@bot.command()
async def right_triangle(ctx, size: int):
	result = ""
	for i in range(size):
		result += "\*"*(i+1) + "\n"
	await ctx.send(result)


@bot.command()
async def ptn(ctx, percent: float, total: float):
	ptn_result = (percent/100)*total
	await ctx.send(f'{percent}% of {total} = {ptn_result}')

@bot.command()
async def ntp(ctx, number:float, total:float):
	ntp_result = (number/total)*100
	await ctx.send(f'{number} of {total} = {ntp_result}%')


@bot.command()
async def ddosins(ctx):
	ddos = discord.Embed(title = "üöÄ **DDoS Tool V1.0**", color = 0x00FF00)
	ddos.description ="[DOWNLOAD](https://drive.google.com/u/0/uc?export=download&confirm=Qu7_&id=1McyRQuqqqsDYstMCSP2gzCKn7cHt8jgx)"
	ddos.set_thumbnail(url="https://cdn.discordapp.com/attachments/778868879567880192/781516216987680788/DDoS_LOGO.jpg")
	await ctx.send(embed = ddos)


@bot.command()
async def send(ctx, id, *, text):
	if 269000561255383040 == ctx.message.author.id :
		channel = ctx.bot.get_channel(int(id))
		await channel.send(text)


@bot.command()
async def invite(ctx):
	invite = discord.Embed(title = "üì© **‡πÄ‡∏ä‡∏¥‡∏ç‡∏ö‡∏≠‡∏ó**", color = 0x00FF00)
	invite.description = "[Click Here](https://discord.com/oauth2/authorize?client_id=778302031042576395&permissions=247872&scope=bot)"
	await ctx.send(embed = invite)


@bot.command()
async def addrole(ctx, id):
	a = discord.Embed(title = "üìù **React me to assign the role**", color = 0x00FF00)
	a.add_field(name="**üéÆ Game**", value="`0Ô∏è‚É£1Ô∏è‚É£„Ö£‡∏Ñ‡∏ì‡∏∞‡∏•‡πà‡∏≤‡∏ú‡∏µ\n0Ô∏è‚É£2Ô∏è‚É£„Ö£Genshin Impact\n0Ô∏è‚É£3Ô∏è‚É£„Ö£Microsoft Flight Simulator\n0Ô∏è‚É£4Ô∏è‚É£„Ö£Far Cry\n0Ô∏è‚É£5Ô∏è‚É£„Ö£Dead by Daylight\n0Ô∏è‚É£6Ô∏è‚É£„Ö£Rainbow Six Siege\n0Ô∏è‚É£7Ô∏è‚É£„Ö£Forza Horizon 4\n0Ô∏è‚É£8Ô∏è‚É£„Ö£League of Legends\n0Ô∏è‚É£9Ô∏è‚É£„Ö£PUBG\n1Ô∏è‚É£0Ô∏è‚É£„Ö£Valorant\n1Ô∏è‚É£1Ô∏è‚É£„Ö£Minecraft\n1Ô∏è‚É£2Ô∏è‚É£„Ö£Roblox`")
	a.add_field(name="**üè´ School**", value="`1Ô∏è‚É£3Ô∏è‚É£„Ö£SKR#24„Ö£603\n1Ô∏è‚É£4Ô∏è‚É£„Ö£SKR#24„Ö£604\n1Ô∏è‚É£5Ô∏è‚É£„Ö£SKR#24„Ö£605\n1Ô∏è‚É£6Ô∏è‚É£„Ö£SKR#24„Ö£609\n1Ô∏è‚É£7Ô∏è‚É£„Ö£SKR#24„Ö£610\n1Ô∏è‚É£8Ô∏è‚É£„Ö£SKR#24„Ö£611`")
	a.add_field(name="**üí° Other**", value="`1Ô∏è‚É£9Ô∏è‚É£„Ö£‡∏ô‡∏±‡∏Å‡∏ï‡∏±‡∏î‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û\n2Ô∏è‚É£0Ô∏è‚É£„Ö£‡πÄ‡∏™‡∏û‡∏Å‡∏≤‡∏ß‡∏ß‡∏µ‡∏ó‡∏π‡∏õ‡πÄ‡∏ö‡∏≠‡∏£‡πå\n2Ô∏è‚É£1Ô∏è‚É£„Ö£Sportsman`")

	if 269000561255383040 == ctx.message.author.id :
		channel = ctx.bot.get_channel(int(id))
		await channel.send(embed = a)


@bot.command()
async def event(ctx, *, text):
	list1 = []
	list1 = text.split('|')
	id = list1[0]
	title = list1[1]
	date = list1[2]
	url = list1[3]
	

	show = discord.Embed(title = "**EVENT** üéÜ", color = 0x00FF00)
	show.set_thumbnail(url=url)
	show.add_field(name=title, value=date)

	channel = ctx.bot.get_channel(int(id))
	await channel.send(embed = show)


# Countdown
bot.cancel_code = 0
bot.timer_new = 0

@bot.command()
async def countdown(ctx, timer: int):
	if timer <= 0:
		await ctx.send("**Invalid Timer ‚ö†Ô∏è**")
		return

	bot.timer_new = timer
	day = int(bot.timer_new / 86400)
	sade = int(bot.timer_new % 86400)
	hour = int(sade / 3600)
	sade2 = int(sade % 3600)
	minute = int(sade2 / 60)
	second = int(sade2 % 60)

	#‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
	day_str = str(day)
	hour_str = str(hour)
	minute_str = str(minute)
	second_str = str(second)

	day_zfill = day_str.zfill(2)
	hour_zfill = hour_str.zfill(2)
	minute_zfill = minute_str.zfill(2)
	second_zfill = second_str.zfill(2)

	message = await ctx.send(f"Time remaining: **{day_zfill}:{hour_zfill}:{minute_zfill}:{second_zfill}**")

	while bot.timer_new >= 0:
		day = int(bot.timer_new / 86400)
		sade = int(bot.timer_new % 86400)
		hour = int(sade / 3600)
		sade2 = int(sade % 3600)
		minute = int(sade2 / 60)
		second = int(sade2 % 60)

		#‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
		day_str = str(day)
		hour_str = str(hour)
		minute_str = str(minute)
		second_str = str(second)

		day_zfill = day_str.zfill(2)
		hour_zfill = hour_str.zfill(2)
		minute_zfill = minute_str.zfill(2)
		second_zfill = second_str.zfill(2)

				
		await message.edit(content=f"Time remaining: **{day_zfill}:{hour_zfill}:{minute_zfill}:{second_zfill}**")
		await asyncio.sleep(1)
		bot.timer_new -= 1

	if bot.timer_new <= 1 and bot.timer_new >= -3:
		await message.edit(content="Time remaining: **Time Up !!**")

	elif bot.timer_new < -5:
		await message.edit(content="Time remaining: **STOPPED !!**")

		
				
@bot.command()			
async def cancel_countdown(ctx):
	bot.timer_new = -1020304
	await ctx.send("‚èπ Canceled")

bot.whitelist_list = []

@bot.command()
async def whitelist_add(ctx, user: discord.Member):
	if bot.devmode == 1:
		try:	
			list1 = bot.whitelist_list
			index_chk = list1.index(str(user))
			await ctx.send(f"‚ö†Ô∏è User already exist")
		except:
			bot.whitelist_list.append(str(user))
			await ctx.send(f"‚òëÔ∏è Added **{user}** to whilelist")
	else:
		await ctx.send("Developer Mode is OFF ‚ùé")

@bot.command()
async def whitelist_del(ctx, user: discord.Member):
	if bot.devmode == 1:
		try:
			bot.whitelist_list.remove(str(user))
			await ctx.send(f"‚ùé Removed **{user}** from whilelist")
		except:
			list1 = bot.whitelist_list
			index_chk = list1.index(str(user))
			await ctx.send(f"‚ö†Ô∏è User does not exist")
			
	else:
		await ctx.send("Developer Mode is OFF ‚ùé")

@bot.command()
async def whitelist_check(ctx):
	list_size = len(bot.whitelist_list)
	if list_size == 0:
		await ctx.send("‚ÑπÔ∏è Whitelist has empty")
	else:
		embed_check = ""

		for i in range(list_size):
			num_title = i+1
			#await ctx.send(f"{num_title}.{bot.whitelist_list[i]}")
			embed_check += f"{num_title}.{bot.whitelist_list[i]}\n"

		show = discord.Embed(title = "‚ÑπÔ∏è **Whitelist**", color = 0x00FF00)
		show.description = embed_check

		await ctx.send(embed = show)

@bot.command()
async def moderator(ctx):
	user = ctx.message.author
	bot.user_name = user
	role = discord.utils.get(user.guild.roles, name="Moderator")
	await user.add_roles(role)

	bot.timer_moderator = 86399
	day = int(bot.timer_moderator / 86400)
	sade = int(bot.timer_moderator % 86400)
	hour = int(sade / 3600)
	sade2 = int(sade % 3600)
	minute = int(sade2 / 60)
	second = int(sade2 % 60)

	#‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
	day_str = str(day)
	hour_str = str(hour)
	minute_str = str(minute)
	second_str = str(second)

	hour_zfill = hour_str.zfill(2)
	minute_zfill = minute_str.zfill(2)
	second_zfill = second_str.zfill(2)

	await ctx.send(f"‚úÖ **{user}** are moderator now")
	await ctx.send(f"‚ÑπÔ∏è **{user}** can use <#827531528157659226>")
	message = await ctx.send(f"‚ö†Ô∏è **{hour_zfill}:{minute_zfill}:{second_zfill}** before the license expires")

	while bot.timer_moderator >= 0:
		day = int(bot.timer_moderator / 86400)
		sade = int(bot.timer_moderator % 86400)
		hour = int(sade / 3600)
		sade2 = int(sade % 3600)
		minute = int(sade2 / 60)
		second = int(sade2 % 60)

		#‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
		day_str = str(day)
		hour_str = str(hour)
		minute_str = str(minute)
		second_str = str(second)

		hour_zfill = hour_str.zfill(2)
		minute_zfill = minute_str.zfill(2)
		second_zfill = second_str.zfill(2)

				
		await message.edit(content=f"‚ö†Ô∏è **{hour_zfill}:{minute_zfill}:{second_zfill}** before the license expires")
		await asyncio.sleep(1)
		bot.timer_moderator -= 1

	if bot.timer_moderator <= 1 and bot.timer_moderator >= -3:
		await user.remove_roles(role)
		await message.edit(content="‚õî **License expired**")

	elif bot.timer_moderator < -5:
		await user.remove_roles(role)
		await message.edit(content="üõë **License canceled**")

@bot.command()			
async def cancel_mod(ctx):
	bot.timer_moderator = -1020304
	await ctx.send(f"‚õî** {bot.user_name}** has left as a moderator")


@bot.command()
async def privatekey(ctx, user: discord.Member):
	author = str(ctx.message.author)
	list1 = bot.whitelist_list

	if author in list1:
		bot.user_name_privatekey = user
		role = discord.utils.get(user.guild.roles, name="PrivateKey")
		await user.add_roles(role)

		bot.timer_private = 86399
		day = int(bot.timer_private / 86400)
		sade = int(bot.timer_private % 86400)
		hour = int(sade / 3600)
		sade2 = int(sade % 3600)
		minute = int(sade2 / 60)
		second = int(sade2 % 60)

		#‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
		day_str = str(day)
		hour_str = str(hour)
		minute_str = str(minute)
		second_str = str(second)

		hour_zfill = hour_str.zfill(2)
		minute_zfill = minute_str.zfill(2)
		second_zfill = second_str.zfill(2)

		await ctx.send(f"‚úÖ **{user}** can use <#681876532834205721>")
		message = await ctx.send(f"‚ÑπÔ∏è **{hour_zfill}:{minute_zfill}:{second_zfill}** before the PrivateKey expires")

		while bot.timer_private >= 0:
			day = int(bot.timer_private / 86400)
			sade = int(bot.timer_private % 86400)
			hour = int(sade / 3600)
			sade2 = int(sade % 3600)
			minute = int(sade2 / 60)
			second = int(sade2 % 60)

			#‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
			day_str = str(day)
			hour_str = str(hour)
			minute_str = str(minute)
			second_str = str(second)

			hour_zfill = hour_str.zfill(2)
			minute_zfill = minute_str.zfill(2)
			second_zfill = second_str.zfill(2)

				
			await message.edit(content=f"‚ÑπÔ∏è **{hour_zfill}:{minute_zfill}:{second_zfill}** before the PrivateKey expires")
			await asyncio.sleep(1)
			bot.timer_private -= 1

		if bot.timer_private <= 1 and bot.timer_private >= -3:
			await user.remove_roles(role)
			await message.edit(content="‚õî **PrivateKey expired**")

		elif bot.timer_private < -5:
			await user.remove_roles(role)
			await message.edit(content="üõë **PrivateKey canceled**")
	else:
		await ctx.send(f"‚ùé **{author}** are not on the whitelist.")

@bot.command()			
async def cancel_privatekey(ctx):
	list1 = bot.whitelist_list
	author = str(ctx.message.author)
	if author in list1:
		bot.timer_private = -1020304
		await ctx.send(f"‚õî All PrivateKey have been canceled")
	else:
		await ctx.send(f"‚ùé **{author}** are not on the whitelist.")

# Mute
bot.mute_cancel_code = 0
@bot.command()
async def mute(ctx, user: discord.Member, time: int):
	role_mute = discord.utils.get(user.guild.roles, name="Muted")
	
	await user.add_roles(role_mute)
	await ctx.send(f"**{user}** has been muted for {time} second ‚õî")
	bot.mute_cancel_code == 0
	await asyncio.sleep(time)

	if bot.mute_cancel_code == 0:
		await user.remove_roles(role_mute)
		await ctx.send(f"**{user}** has been unmuted ‚úÖ")
	else:
		bot.mute_cancel_code = 0
		return

@bot.command()
async def unmute(ctx, user: discord.Member):
	role_mute = discord.utils.get(user.guild.roles, name="Muted")
	try:
		await user.remove_roles(role_mute)
		bot.mute_cancel_code = 1
		await ctx.send(f"**{user}** has been unmuted ‚úÖ")
	except:
		await ctx.send(f"**{user}** is not muted ‚ö†Ô∏è")

# Music Player
@bot.command()
async def summon(ctx):
    channel = ctx.message.author.voice.channel
    voice = get(bot.voice_clients, guild=ctx.guild)
    if voice and voice.is_connected():
        await voice.move_to(channel)
    else:
        voice = await channel.connect()

@bot.command()
async def dis(ctx):
	voice_client = ctx.guild.voice_client
	await voice_client.disconnect()


@bot.command()
async def play(ctx, url):
	try:
		channel = ctx.message.author.voice.channel
		await channel.connect()
		YDL_OPTIONS = {'format': 'bestaudio', 'noplaylist': 'True'}
		FFMPEG_OPTIONS = {
			'before_options': '-reconnect 1 -reconnect_streamed 1 -reconnect_delay_max 5', 'options': '-vn'}
		voice = get(bot.voice_clients, guild=ctx.guild)

		if not voice.is_playing():
			with YoutubeDL(YDL_OPTIONS) as ydl:
				info = ydl.extract_info(url, download=False)
			URL = info['url']
			voice.play(discord.FFmpegPCMAudio(source=URL, **FFMPEG_OPTIONS))
			voice.is_playing()
			await ctx.send('Bot is playing ‚úÖ')

		else:
			await ctx.send("Bot is already playing ‚ÑπÔ∏è")
			return

	except:
		YDL_OPTIONS = {'format': 'bestaudio', 'noplaylist': 'True'}
		FFMPEG_OPTIONS = {
			'before_options': '-reconnect 1 -reconnect_streamed 1 -reconnect_delay_max 5', 'options': '-vn'}
		voice = get(bot.voice_clients, guild=ctx.guild)

		if not voice.is_playing():
			with YoutubeDL(YDL_OPTIONS) as ydl:
				info = ydl.extract_info(url, download=False)
			URL = info['url']
			voice.play(discord.FFmpegPCMAudio(source=URL, **FFMPEG_OPTIONS))
			voice.is_playing()
			await ctx.send('Bot is playing ‚úÖ')

		else:
			await ctx.send("Bot is already playing ‚ÑπÔ∏è")
			return

@bot.command()
async def resume(ctx):
    voice = get(bot.voice_clients, guild=ctx.guild)

    if not voice.is_playing():
        voice.resume()
        await ctx.send('Resume ‚ñ∂')

@bot.command()
async def pause(ctx):
    voice = get(bot.voice_clients, guild=ctx.guild)

    if voice.is_playing():
        voice.pause()
        await ctx.send('Pause ‚è∏')

@bot.command()
async def stop(ctx):
    voice = get(bot.voice_clients, guild=ctx.guild)

    if voice.is_playing():
        voice.stop()
        await ctx.send('Stop ‚èπ')


# Events
@bot.command()
async def status(ctx, text: str):
	if bot.devmode == 1:
		await bot.change_presence(activity=discord.Game(name=text))
		await ctx.send("**Successfully ‚úÖ**")
	else:
		await ctx.send("**Developer Mode is OFF ‚ùé**")

@bot.event
async def on_ready():
	await bot.change_presence(activity=discord.Game(name="Version 1.4.2"))
	print('Started!')


@bot.event
async def on_raw_reaction_add(payload):
	message_id = payload.message_id
	if message_id == 851097526203711559:
		guild_id = payload.guild_id
		guild = discord.utils.find(lambda g : g.id == guild_id, bot.guilds)

		if payload.emoji.name == '1_':
			role = discord.utils.get(guild.roles, name = '‡∏Ñ‡∏ì‡∏∞‡∏•‡πà‡∏≤‡∏ú‡∏µ')
		elif payload.emoji.name == '2_':
			role = discord.utils.get(guild.roles, name = 'Genshin Impact')
		elif payload.emoji.name == '3_':
			role = discord.utils.get(guild.roles, name = 'Microsoft Flight Simulator')
		elif payload.emoji.name == '4_':
			role = discord.utils.get(guild.roles, name = 'Far Cry')
		elif payload.emoji.name == '5_':
			role = discord.utils.get(guild.roles, name = 'Dead by Daylight')
		elif payload.emoji.name == '6_':
			role = discord.utils.get(guild.roles, name = 'Rainbow Six Siege')
		elif payload.emoji.name == '7_':
			role = discord.utils.get(guild.roles, name = 'Forza Horizon 4')
		elif payload.emoji.name == '8_':
			role = discord.utils.get(guild.roles, name = 'League of Legends')
		elif payload.emoji.name == '9_':
			role = discord.utils.get(guild.roles, name = 'PUBG')
		elif payload.emoji.name == '10_':
			role = discord.utils.get(guild.roles, name = 'Valorant')
		elif payload.emoji.name == '11_':
			role = discord.utils.get(guild.roles, name = 'Minecraft')
		elif payload.emoji.name == '12_':
			role = discord.utils.get(guild.roles, name = 'Roblox')
		elif payload.emoji.name == '13_':
			role = discord.utils.get(guild.roles, name = 'SKR#24„Ö£603')
		elif payload.emoji.name == '14_':
			role = discord.utils.get(guild.roles, name = 'SKR#24„Ö£604')
		elif payload.emoji.name == '15_':
			role = discord.utils.get(guild.roles, name = 'SKR#24„Ö£605')
		elif payload.emoji.name == '16_':
			role = discord.utils.get(guild.roles, name = 'SKR#24„Ö£609')
		elif payload.emoji.name == '17_':
			role = discord.utils.get(guild.roles, name = 'SKR#24„Ö£610')
		elif payload.emoji.name == '18_':
			role = discord.utils.get(guild.roles, name = 'SKR#24„Ö£611')
		elif payload.emoji.name == '19_':
			role = discord.utils.get(guild.roles, name = '‡∏ô‡∏±‡∏Å‡∏ï‡∏±‡∏î‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û')
		elif payload.emoji.name == '20_':
			role = discord.utils.get(guild.roles, name = '‡πÄ‡∏™‡∏û‡∏Å‡∏≤‡∏ß‡∏ß‡∏µ‡∏ó‡∏π‡∏õ‡πÄ‡∏ö‡∏≠‡∏£‡πå')
		elif payload.emoji.name == '21_':
			role = discord.utils.get(guild.roles, name = 'Sportsman')
		else:
			role = discord.utils.get(guild.roles, name = payload.emoji.name)

		if role is not None:
			member = discord.utils.find(lambda m : m.id == payload.user_id, guild.members)
			if member is not None:
				await member.add_roles(role)
				print("Role Add Done")
			else:
				print("Member not found")
		else:
			print("Role not found")

@bot.event
async def on_raw_reaction_remove(payload):
	message_id = payload.message_id
	if message_id == 851097526203711559:
		guild_id = payload.guild_id
		guild = discord.utils.find(lambda g : g.id == guild_id, bot.guilds)

		if payload.emoji.name == '1_':
			role = discord.utils.get(guild.roles, name = '‡∏Ñ‡∏ì‡∏∞‡∏•‡πà‡∏≤‡∏ú‡∏µ')
		elif payload.emoji.name == '2_':
			role = discord.utils.get(guild.roles, name = 'Genshin Impact')
		elif payload.emoji.name == '3_':
			role = discord.utils.get(guild.roles, name = 'Microsoft Flight Simulator')
		elif payload.emoji.name == '4_':
			role = discord.utils.get(guild.roles, name = 'Far Cry')
		elif payload.emoji.name == '5_':
			role = discord.utils.get(guild.roles, name = 'Dead by Daylight')
		elif payload.emoji.name == '6_':
			role = discord.utils.get(guild.roles, name = 'Rainbow Six Siege')
		elif payload.emoji.name == '7_':
			role = discord.utils.get(guild.roles, name = 'Forza Horizon 4')
		elif payload.emoji.name == '8_':
			role = discord.utils.get(guild.roles, name = 'League of Legends')
		elif payload.emoji.name == '9_':
			role = discord.utils.get(guild.roles, name = 'PUBG')
		elif payload.emoji.name == '10_':
			role = discord.utils.get(guild.roles, name = 'Valorant')
		elif payload.emoji.name == '11_':
			role = discord.utils.get(guild.roles, name = 'Minecraft')
		elif payload.emoji.name == '12_':
			role = discord.utils.get(guild.roles, name = 'Roblox')
		elif payload.emoji.name == '13_':
			role = discord.utils.get(guild.roles, name = 'SKR#24„Ö£603')
		elif payload.emoji.name == '14_':
			role = discord.utils.get(guild.roles, name = 'SKR#24„Ö£604')
		elif payload.emoji.name == '15_':
			role = discord.utils.get(guild.roles, name = 'SKR#24„Ö£605')
		elif payload.emoji.name == '16_':
			role = discord.utils.get(guild.roles, name = 'SKR#24„Ö£609')
		elif payload.emoji.name == '17_':
			role = discord.utils.get(guild.roles, name = 'SKR#24„Ö£610')
		elif payload.emoji.name == '18_':
			role = discord.utils.get(guild.roles, name = 'SKR#24„Ö£611')
		elif payload.emoji.name == '19_':
			role = discord.utils.get(guild.roles, name = '‡∏ô‡∏±‡∏Å‡∏ï‡∏±‡∏î‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û')
		elif payload.emoji.name == '20_':
			role = discord.utils.get(guild.roles, name = '‡πÄ‡∏™‡∏û‡∏Å‡∏≤‡∏ß‡∏ß‡∏µ‡∏ó‡∏π‡∏õ‡πÄ‡∏ö‡∏≠‡∏£‡πå')
		elif payload.emoji.name == '21_':
			role = discord.utils.get(guild.roles, name = 'Sportsman')
		else:
			role = discord.utils.get(guild.roles, name = payload.emoji.name)

		if role is not None:
			member = discord.utils.find(lambda m : m.id == payload.user_id, guild.members)
			if member is not None:
				await member.remove_roles(role)
				print("Role Remove Done")
			else:
				print("Member is not found")
		else:
			print("Role is not found")

@bot.event
async def on_member_join(person):
	try: 
		member_role_id = 727555789056639027
		await person.add_roles(person.guild.get_role(member_role_id))
	except:
		member_role_id = 851081137093738576
		await person.add_roles(person.guild.get_role(member_role_id))


# Listen
@bot.listen()
async def on_message(message):
	if "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢" in message.content.lower():
		await message.channel.send('‡∏Ç‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏¥‡∏ô‡∏î‡∏µ! üéâüéâ')

	elif "congratulation" in message.content.lower():
		if message.author.id == bot.user.id:
			return
		await message.channel.send('CONGRATULATION! üéâüéâ')
		await bot.process_commands(message)


Token = os.environ["DafuqToken"]
bot.run(Token)